Asynchronous Behaviour with Promises and $q service